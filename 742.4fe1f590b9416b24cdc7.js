/*! For license information please see 742.4fe1f590b9416b24cdc7.js.LICENSE.txt */
"use strict";(self.webpackChunkweb_berbagi_cerita=self.webpackChunkweb_berbagi_cerita||[]).push([[742,925],{742:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(925),o=(n(891),n(481)),i=n.n(o),a=n(468);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return s(l,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,c=0,u=e,p.n=n,a}};function d(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,v=i[2];n>3?(o=v===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(c=0,p.v=r,p.n=i[1]):d<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,p.n=v,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),c=l,u=v;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),l}var a={};function c(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(s(t={},r,function(){return this}),t),d=f.prototype=c.prototype=Object.create(p);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,s(d,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(d),s(d,o,"Generator"),s(d,r,function(){return this}),s(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:i,m:v}})()}function s(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s=function(e,t,n,r){function i(t,n){s(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},s(e,t,n,r)}function l(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var v=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.presenter=new r.default(this),this.presenter=null,this.videoStream=null,this.photoFile=null,this.map=null,this.marker=null},t=[{key:"setPresenter",value:function(e){this.presenter=e}},{key:"render",value:function(){this.container.innerHTML='\n      <section aria-labelledby="add-title">\n        <h2 id="add-title">Tambah Cerita</h2>\n        <form id="add-form">\n          <fieldset>\n            <legend>Foto</legend>\n\n            <div class="camera-area">\n              <video id="camera" autoplay playsinline width="320" height="200" aria-hidden="true"></video>\n              <canvas id="capture" style="display:none"></canvas>\n            </div>\n\n            <div class="controls">\n              <label for="camera-select">Pilih Kamera:</label>\n              <select id="camera-select"></select>\n            </div>\n\n            <div class="controls">\n              <button type="button" id="start-camera">\n                <i class="fa-solid fa-video"></i>\n                <span class="btn-label">Buka Kamera</span>\n              </button>\n              <button type="button" id="take-photo" disabled>\n                <i class="fa-solid fa-camera"></i>\n                <span class="btn-label">Ambil Foto</span>\n              </button>\n              <button type="button" id="stop-camera" disabled>\n                <i class="fa-solid fa-power-off"></i>\n                <span class="btn-label">Matikan Kamera</span>\n              </button>\n            </div>\n\n            <p>Atau pilih dari file:</p>\n            <label class="file-upload">\n              <i class="fa-solid fa-upload"></i>\n              <span class="btn-label">Pilih File</span>\n              <input type="file" id="file-input" accept="image/*" hidden />\n            </label>\n\n            <div id="photo-preview" aria-live="polite"></div>\n            <p class="hint">Ukuran foto max 1MB. Jika lebih besar, akan dikompres otomatis.</p>\n          </fieldset>\n\n          <label for="description">Cerita Foto</label>\n          <textarea id="description" name="description" required aria-required="true" rows="3"></textarea>\n\n          <fieldset>\n            <legend>Pilih Lokasi (Klik pada peta)</legend>\n            <div id="mini-map" class="map-small" role="application" aria-label="Pilih lokasi"></div>\n            <p id="coords" class="coords">Belum dipilih</p>\n          </fieldset>\n\n          <div class="form-actions">\n            <button type="submit">Kirim</button>\n            <button type="button" id="save-guest">Kirim tanpa login (guest)</button>\n          </div>\n        </form>\n      </section>\n    ',this.bind(),this.initMiniMap()}},{key:"stopCamera",value:function(){if(this.videoStream){this.videoStream.getTracks().forEach(function(e){return e.stop()}),this.videoStream=null;var e=this.container.querySelector("#start-camera"),t=this.container.querySelector("#take-photo"),n=this.container.querySelector("#stop-camera");e&&t&&n&&(e.disabled=!1,t.disabled=!0,n.disabled=!0)}}},{key:"showSaving",value:function(){(0,a.P)("Menyimpan...",2e3,"info")}},{key:"showSaved",value:function(){(0,a.P)("Berhasil tersimpan",3e3,"success"),window.location.hash="/"}},{key:"showSavedWithWarning",value:function(e){(0,a.P)("Disimpan lokal: ".concat(e),4e3,"error"),window.location.hash="/"}},{key:"_showToast",value:function(e){(0,a.P)(e)}},{key:"bind",value:function(){var e=this,t=this.container.querySelector("#start-camera"),n=this.container.querySelector("#take-photo"),r=this.container.querySelector("#stop-camera"),o=this.container.querySelector("#camera"),i=this.container.querySelector("#capture"),c=this.container.querySelector("#photo-preview"),s=this.container.querySelector("#file-input"),l=this.container.querySelector("#add-form"),p=this.container.querySelector("#coords"),d=this.container.querySelector("#camera-select"),v=null,h=null;navigator.mediaDevices.enumerateDevices().then(function(e){var t=e.filter(function(e){return"videoinput"===e.kind});d.innerHTML=t.map(function(e){return'<option value="'.concat(e.deviceId,'">').concat(e.label||"Kamera","</option>")}).join("")}),s.addEventListener("change",function(){var t=f(u().m(function t(n){var r,o,i,s,l,f;return u().w(function(t){for(;;)switch(t.n){case 0:if(r=n.target.files[0]){t.n=1;break}return t.a(2);case 1:if(!(r.size>1048576)){t.n=4;break}return(o=new Image).src=URL.createObjectURL(r),t.n=2,o.decode();case 2:return i=document.createElement("canvas"),s=i.getContext("2d"),l=o.width>1024?1024/o.width:1,i.width=o.width*l,i.height=o.height*l,s.drawImage(o,0,0,i.width,i.height),t.n=3,new Promise(function(e){return i.toBlob(e,"image/jpeg",.8)});case 3:f=t.v,e.photoFile=new File([f],"upload_".concat(Date.now(),".jpg"),{type:f.type}),t.n=5;break;case 4:e.photoFile=r;case 5:c.innerHTML='<img src="'.concat(URL.createObjectURL(e.photoFile),'" \n  alt="Preview foto" \n  style="max-width:100%;" \n  loading="lazy">'),(0,a.P)("Foto berhasil dimuat",2e3,"success");case 6:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),t.addEventListener("click",f(u().m(function i(){var c,s,l;return u().w(function(i){for(;;)switch(i.p=i.n){case 0:return i.p=0,c=d.value,s=c?{video:{deviceId:{exact:c}}}:{video:!0},i.n=1,navigator.mediaDevices.getUserMedia(s);case 1:return e.videoStream=i.v,o.srcObject=e.videoStream,i.n=2,o.play();case 2:n.disabled=!1,r.disabled=!1,t.disabled=!0,i.n=4;break;case 3:i.p=3,l=i.v,console.error("Gagal akses kamera:",l),(0,a.P)("Tidak bisa mengakses kamera: "+(l.message||l),4e3,"error");case 4:return i.a(2)}},i,null,[[0,3]])}))),n.addEventListener("click",f(u().m(function t(){var n,r,s;return u().w(function(t){for(;;)switch(t.n){case 0:return n=i.getContext("2d"),i.width=o.videoWidth,i.height=o.videoHeight,n.drawImage(o,0,0),t.n=1,e._compressCanvasToBlob(i,.8,1024);case 1:r=t.v,s=new File([r],"photo_".concat(Date.now(),".jpg"),{type:r.type}),e.photoFile=s,c.innerHTML='<img src="'.concat(URL.createObjectURL(s),'" \n  alt="Preview foto" \n  style="max-width:100%;" \n  loading="lazy">'),(0,a.P)("Foto berhasil diambil",2e3,"success");case 2:return t.a(2)}},t)}))),r.addEventListener("click",function(){e.stopCamera(),(0,a.P)("Kamera dimatikan",2e3,"info")}),l.addEventListener("submit",function(){var t=f(u().m(function t(n){var r;return u().w(function(t){for(;;)switch(t.n){case 0:if(n.preventDefault(),r=l.description.value.trim()){t.n=1;break}return(0,a.P)("Deskripsi wajib diisi",3e3,"error"),t.a(2);case 1:if(e.photoFile){t.n=2;break}return(0,a.P)("Foto wajib diambil",3e3,"error"),t.a(2);case 2:return t.n=3,e.presenter.submit({description:r,photoFile:e.photoFile,lat:v,lon:h,guest:!1});case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),this.container.querySelector("#save-guest").addEventListener("click",f(u().m(function t(){var n;return u().w(function(t){for(;;)switch(t.n){case 0:if(n=l.description.value.trim()){t.n=1;break}return(0,a.P)("Deskripsi wajib diisi",3e3,"error"),t.a(2);case 1:if(e.photoFile){t.n=2;break}return(0,a.P)("Foto wajib diambil",3e3,"error"),t.a(2);case 2:return t.n=3,e.presenter.submit({description:n,photoFile:e.photoFile,lat:v,lon:h,guest:!0});case 3:return t.a(2)}},t)}))),this._setCoordsSetter(function(e,t){v=e,h=t,p.textContent="Lat: ".concat(e.toFixed(5),", Lon: ").concat(t.toFixed(5)),(0,a.P)("Lokasi dipilih",2e3,"info")})}},{key:"_compressCanvasToBlob",value:(n=f(u().m(function e(t){var n,r,o,i,a,c,s=arguments;return u().w(function(e){for(;;)switch(e.n){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:.9,r=s.length>2&&void 0!==s[2]?s[2]:1024,o=t.width,i=t.height,1===(a=o>r?r/o:1)){e.n=1;break}return(c=document.createElement("canvas")).width=Math.round(o*a),c.height=Math.round(i*a),c.getContext("2d").drawImage(t,0,0,c.width,c.height),e.a(2,new Promise(function(e){return c.toBlob(e,"image/jpeg",n)}));case 1:return e.a(2,new Promise(function(e){return t.toBlob(e,"image/jpeg",n)}))}},e)})),function(e){return n.apply(this,arguments)})},{key:"initMiniMap",value:function(){var e=this;this.map&&this.map.remove(),this.map=i().map("mini-map",{center:[0,0],zoom:2,attributionControl:!1});var t=i().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}),n=i().tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:"© Carto"}),r=i().tileLayer("https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{subdomains:["mt0","mt1","mt2","mt3"],attribution:"© Google"});t.addTo(this.map);var o={OpenStreetMap:t,"Dark Mode":n,Satellite:r};i().control.layers(o).addTo(this.map),this.map.on("click",function(t){var n=t.latlng,r=n.lat,o=n.lng;e.marker?e.marker.setLatLng([r,o]):e.marker=i().marker([r,o]).addTo(e.map),e._setCoords&&e._setCoords(r,o)}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){return e.map.setView([t.coords.latitude,t.coords.longitude],12)},function(){})}},{key:"_setCoordsSetter",value:function(e){this._setCoords=e}}],t&&p(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},925:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(891),o=n(468),i=n(602);function a(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,l=Object.create(a.prototype);return c(l,"_invoke",function(n,r,o){var i,a,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,u}};function d(n,r){for(a=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,v=i[2];n>3?(o=v===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,p.n=v,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),a=l,c=v;(t=a<2?e:c)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(t){i=e,a=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),l}var u={};function s(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(c(t={},r,function(){return this}),t),d=f.prototype=s.prototype=Object.create(p);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,c(d,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(d),c(d,o,"Generator"),c(d,r,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:v}})()}function c(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}c=function(e,t,n,r){function i(t,n){c(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},c(e,t,n,r)}function u(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var s="stories",l="pending-stories",f=(0,i.P2)("cerita-db",1,{upgrade:function(e){e.objectStoreNames.contains(s)||e.createObjectStore(s,{keyPath:"id"}),e.objectStoreNames.contains(l)||e.createObjectStore(l,{keyPath:"id",autoIncrement:!0})}}),p=function(e){return(t=a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,f;case 1:return t.a(2,t.v.add(l,e))}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)})})();var t};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return h(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,c=0,u=e,p.n=n,a}};function d(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],d=p.p,v=i[2];n>3?(o=v===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(c=0,p.v=r,p.n=i[1]):d<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,p.n=v,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),c=l,u=v;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(p.n=-1),d(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(h(t={},r,function(){return this}),t),f=s.prototype=c.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,h(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,h(f,"constructor",s),h(s,"constructor",u),u.displayName="GeneratorFunction",h(s,o,"GeneratorFunction"),h(f),h(f,o,"Generator"),h(f,r,function(){return this}),h(f,"toString",function(){return"[object Generator]"}),(v=function(){return{w:i,m:p}})()}function h(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}h=function(e,t,n,r){function i(t,n){h(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},h(e,t,n,r)}function b(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var g=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t},t=[{key:"submit",value:(n=v().m(function e(t){var n,i,a,c,u,s,l,f,d;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=t.description,i=t.photoFile,a=t.lat,c=t.lon,u=t.guest,s=void 0!==u&&u,this.view.showSaving(),e.p=1,e.n=2,r.A.addProduct({description:n,photoFile:i,lat:a,lon:c,guest:s});case 2:(0,o.P)("Cerita berhasil diunggah ke server 🎉",3e3,"success"),this.view.showSaved(),e.n=7;break;case 3:return e.p=3,d=e.v,console.error("AddPresenter submit error:",d),l={description:n,lat:a,lon:c,guest:s,photoFile:i,createdAt:(new Date).toISOString()},e.n=4,p(l);case 4:if(!("serviceWorker"in navigator)||!("SyncManager"in window)){e.n=6;break}return e.n=5,navigator.serviceWorker.ready;case 5:return f=e.v,e.n=6,f.sync.register("sync-new-story");case 6:this.view.showSavedWithWarning(d.message||"Offline - disimpan lokal"),(0,o.P)("Gagal unggah ke server. Cerita disimpan lokal untuk sinkronisasi.",4e3,"error");case 7:return e.a(2)}},e,this,[[1,3]])}),i=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){b(i,r,o,a,c,"next",e)}function c(e){b(i,r,o,a,c,"throw",e)}a(void 0)})},function(e){return i.apply(this,arguments)})}],t&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,i}()}}]);