const idb={openDB:(e,r,{upgrade:o}={})=>new Promise((n,s)=>{const t=indexedDB.open(e,r);t.onerror=()=>s(t.error),t.onsuccess=()=>n(t.result),t.onupgradeneeded=e=>{o&&o(t.result,e.oldVersion,e.newVersion,t.transaction)}}),getAll:(e,r)=>new Promise((o,n)=>{const s=e.transaction(r,"readonly").objectStore(r).getAll();s.onsuccess=()=>o(s.result),s.onerror=()=>n(s.error)}),put:(e,r,o)=>new Promise((n,s)=>{const t=e.transaction(r,"readwrite").objectStore(r).put(o);t.onsuccess=()=>n(t.result),t.onerror=()=>s(t.error)}),delete:(e,r,o)=>new Promise((n,s)=>{const t=e.transaction(r,"readwrite").objectStore(r).delete(o);t.onsuccess=()=>n(),t.onerror=()=>s(t.error)})};