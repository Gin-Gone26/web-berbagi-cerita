/*! For license information please see 638.80d5c73e3c935890947a.js.LICENSE.txt */
"use strict";(self.webpackChunkweb_berbagi_cerita=self.webpackChunkweb_berbagi_cerita||[]).push([[638],{638:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(468),o=r(399);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var a=n&&n.prototype instanceof s?n:s,l=Object.create(a.prototype);return u(l,"_invoke",function(r,n,o){var i,a,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:y,f:y.bind(e,4),d:function(t,r){return i=t,a=0,u=e,p.n=r,c}};function y(r,n){for(a=r,u=n,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],y=p.p,b=i[2];r>3?(o=b===n)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=y&&((o=r<2&&y<i[1])?(a=0,p.v=n,p.n=i[1]):y<b&&(o=r<3||i[0]>n||n>b)&&(i[4]=r,i[5]=n,p.n=b,a=0))}if(o||r>1)return c;throw f=!0,n}return function(o,l,b){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,b),a=l,u=b;(t=a<2?e:u)||!f;){i||(a?a<3?(a>1&&(p.n=-1),y(a,u)):p.n=u:p.v=u);try{if(s=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==c)break}catch(t){i=e,a=1,u=t}finally{s=1}}return{value:t,done:f}}}(r,o,i),!0),l}var c={};function s(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),y=f.prototype=s.prototype=Object.create(p);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e}return l.prototype=f,u(y,"constructor",f),u(f,"constructor",l),l.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(y),u(y,o,"Generator"),u(y,n,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:b}})()}function u(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}u=function(e,t,r,n){function i(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},u(e,t,r,n)}function c(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var f=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t},t=[{key:"handleRegister",value:(r=a().m(function e(t){var r,n,i,u,c;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=t.name,n=t.email,i=t.password,e.p=1,e.n=2,o.A.register(r,n,i);case 2:!1===(null==(u=e.v)?void 0:u.error)?(this.view.showSuccess("Registrasi berhasil! Silakan login."),this.view.navigateTo("/login")):this.view.showError((null==u?void 0:u.message)||"Registrasi gagal."),e.n=4;break;case 3:e.p=3,c=e.v,this.view.showError(c.message||"Terjadi kesalahan saat registrasi.");case 4:return e.a(2)}},e,this,[[1,3]])}),n=function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){c(i,n,o,a,u,"next",e)}function u(e){c(i,n,o,a,u,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)})}],t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var v=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.presenter=new f(this)},t=[{key:"setPresenter",value:function(e){this.presenter=e}},{key:"render",value:function(){var e=this;this.container.innerHTML='\n      <section aria-labelledby="register-title">\n        <h2 id="register-title">Daftar</h2>\n        <form id="register-form">\n          <label for="name">Nama</label>\n          <input id="name" name="name" type="text" required />\n\n          <label for="email">Email</label>\n          <input id="email" name="email" type="email" required />\n\n          <label for="password">Password</label>\n          <input id="password" name="password" type="password" required minlength="8" />\n\n          <div class="form-actions">\n            <button type="submit">Daftar</button>\n          </div>\n        </form>\n\n        <p>\n          Sudah punya akun? \n          <a href="#/login" id="go-login">Login di sini</a>\n        </p>\n      </section>\n    ',this.container.querySelector("#register-form")&&this.presenter&&this.bindOnSubmit(function(t){return e.presenter.handleRegister(t)})}},{key:"bindOnSubmit",value:function(e){var t=this.container.querySelector("#register-form");t&&t.addEventListener("submit",function(r){r.preventDefault();var n=t.name.value.trim(),o=t.email.value.trim(),i=t.password.value.trim();e({name:n,email:o,password:i})})}},{key:"showError",value:function(e){(0,n.P)(e||"Registrasi gagal",4e3,"error")}},{key:"showSuccess",value:function(e){(0,n.P)(e||"Registrasi berhasil!",3e3,"success")}},{key:"navigateTo",value:function(e){window.location.hash=e}}],t&&y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()}}]);